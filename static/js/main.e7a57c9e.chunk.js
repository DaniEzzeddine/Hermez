(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/hermes.b16dc722.png"},31:function(e,t,a){e.exports=a(57)},57:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(13),i=a(58),l=a(6),o=a(7),c=a(10),u=a(8),m=a(9),d=a(27),h=a.n(d),p=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("nav",{className:"navbar sticky-top navbar-light bg-light w-100"},r.a.createElement("img",{width:"80px",src:h.a,alt:"hermes"}))))}}]),t}(n.Component),b=a(12),v=a(4),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={userIntraname:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(console.log(this.props.userInfo),this.props.userInfo){var e={};e.userIntraname=void 0!==this.props.userInfo.intraname?this.props.userInfo.intraname:"",console.log(e),this.setState(e)}}},{key:"inputChange",value:function(e){e.preventDefault();var t=Object.assign({},this.state);t[e.target.dataset.local]=e.target.value,this.setState(t)}},{key:"modalSave",value:function(){this.props.modalSave(this.state)}},{key:"render",value:function(){return r.a.createElement(v.b,{isOpen:this.props.isModal,toggle:this.props.modalClose,className:this.props.className},r.a.createElement(v.e,{toggle:this.props.modalClose},"Student Edit"),r.a.createElement(v.c,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"intraname"},"Intraname"),r.a.createElement("input",{type:"text",className:"form-control",id:"intraname",name:"intraname","aria-describedby":"intraname",placeholder:"Intraname","data-local":"userIntraname",value:this.state.userIntraname,onChange:this.inputChange.bind(this)}))),r.a.createElement(v.d,null,r.a.createElement(v.a,{color:"primary",onClick:this.modalSave.bind(this)},"Save")," ",r.a.createElement(v.a,{color:"secondary",onClick:this.props.modalClose},"Cancel")))}}]),t}(n.Component),f=a(29),E=a(11),y=a.n(E),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).takePicture=a.takePicture.bind(Object(b.a)(Object(b.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"takePicture",value:function(){this.camera.capture().then(function(e){var t=new FormData;t.set("file",e,"test_image1.png"),y.a.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(f.a,{style:O.preview,ref:function(t){e.camera=t}},r.a.createElement("div",{style:O.captureContainer,onClick:this.takePicture},r.a.createElement("div",{style:O.captureButton})))))}}]),t}(n.Component),O={preview:{position:"relative",width:"100%"},captureContainer:{display:"flex",position:"absolute",justifyContent:"center",margin:"auto",zIndex:1,bottom:0,width:"100%"},captureButton:{backgroundColor:"#fff",borderRadius:"50%",height:56,width:56,color:"#000",margin:20},captureImage:{width:"100%"}},j=C,k=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(v.b,{isOpen:this.props.isModal,toggle:this.props.modalClose,className:this.props.className},r.a.createElement(v.e,{toggle:this.props.modalClose},"Place name of recipient in left-top corner"),r.a.createElement(v.c,null,r.a.createElement("div",{className:"form-group"})),r.a.createElement(v.d,null,r.a.createElement(j,null),r.a.createElement(v.a,{color:"secondary",onClick:this.props.modalClose},"Cancel")))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).sendMail=function(){var e=Object.assign({},a.state);y.a.get("/sendmail").then(function(e){console.log(e)}),e.userList=[],a.setState(e)},a.handleDeleteUser=function(e,t){var n=Object.assign({},a.state);y.a.get("/deleterecipient",{params:{input:e}}),n.userList.splice(t,1),a.setState(n)},a.handleOnClick=function(e){var t=Object.assign({},a.state),n=!1;t.userList.map(function(t){t[1]===e.target.value&&(n=!0)}),n||(t.userList.push([t.userList.length,e.target.value]),y.a.get("/insertrecipient",{params:{input:e.target.value}}),a.setState(t))},a.handleChange=function(e){""!==e.target.value?(a.setState({any_input:!0}),y.a.get("/autocomplete",{params:{input:e.target.value}}).then(function(e){a.setState({find_users:e.data.data})})):a.setState({any_input:!1})},a.state={userList:[],any_input:!1,isModal:!1,isCamera:!1,userEdit:-1,find_users:[]},a.cameraTogler=a.cameraTogler.bind(Object(b.a)(Object(b.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Object.assign({},this.state);y.a.get("/getrecipients").then(function(a){t.userList=a.data.data,console.log(t.userList),e.setState(t)})}},{key:"modalTogler",value:function(e){var t=Object.assign({},this.state);t.isModal=!t.isModal,t.userEdit=-1===e?-1:e,this.setState(t)}},{key:"modalSave",value:function(e){var t=Object.assign({},this.state);y.a.get("/changerecipient",{params:{old_value:t.userList[t.userEdit][1],new_value:e.userIntraname}}),t.userList[t.userEdit][1]=e.userIntraname,t.isModal=!t.isModal,t.userEdit=-1,this.setState(t)}},{key:"cameraTogler",value:function(){var e=Object.assign({},this.state);e.isCamera=!e.isCamera,this.setState(e)}},{key:"cameraSave",value:function(){var e=Object.assign({},this.state);e.isCamera=!e.isCamera,this.setState(e)}},{key:"generateList",value:function(){var e=this;return 0===this.state.userList.length?null:this.state.userList.map(function(t,a){return r.a.createElement("tr",{key:t[0]},r.a.createElement("td",{style:{align:"center"}},t[1]),r.a.createElement("td",{style:{align:"center"}},r.a.createElement("button",{onClick:e.modalTogler.bind(e,a),className:"btn btn-primary btn-info"},"Edit")),r.a.createElement("td",{style:{align:"center"}},r.a.createElement("button",{onClick:e.handleDeleteUser.bind(e,t[1],a),className:"btn btn-primary btn-danger"},"Delete")))})}},{key:"renderDropdown",value:function(){var e=this;return r.a.createElement("div",{style:{width:"\x1c100%",zIndex:"1000",backgroundColor:"white"},className:" dropdown border position-fixed display-none border-top-0"},this.state.any_input?this.state.find_users.map(function(t){return r.a.createElement("option",{className:"dropdown-item w-100",style:{backgroundColor:"\x1c#eee"},onClick:e.handleOnClick,value:t[2]},t[2])}):null)}},{key:"renderCamera",value:function(){return console.log("camera"),r.a.createElement(k,{isModal:this.state.isCamera,modalClose:this.cameraTogler.bind(this),modalSave:this.cameraSave.bind(this)})}},{key:"renderModal",value:function(){return r.a.createElement(g,{isModal:this.state.isModal,modalClose:this.modalTogler.bind(this,-1),modalSave:this.modalSave.bind(this)})}},{key:"render",value:function(){var e=null;this.state.isCamera&&(e=this.renderCamera());var t=null;return this.state.isModal&&this.state.userEdit>-1&&(t=this.renderModal()),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",null,"List of Recipients"),r.a.createElement("input",{className:"form-control",type:"text",name:"input",onChange:this.handleChange}),this.state.any_input?this.renderDropdown():null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"panel panel-default user_panel w-100"},r.a.createElement("div",{class:"panel-body"},r.a.createElement("div",{class:"table-container"},r.a.createElement("table",{class:"table-users table",border:"0"},r.a.createElement("tbody",null,this.generateList())))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{type:"button",class:"btn btn-success",onClick:this.sendMail},"Success"),r.a.createElement("button",{onClick:this.cameraTogler,className:"btn btn-primary"},"Camera")))),t,e)}}]),t}(n.Component),N=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(p,null),r.a.createElement(w,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(s.render)(r.a.createElement(i.a,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.e7a57c9e.chunk.js.map